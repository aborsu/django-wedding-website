{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% block page_content %}
  <section class="section-cover cover text-center">
    <nav class="navbar navbar-expand-lg navbar-trans navbar-dark">
      <div class="container">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarToggler-1" aria-controls="navbarToggler-1" aria-expanded="false"
                aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">{% trans "Wedding" %}</a>
        <div class="collapse navbar-collapse pull-xs-right justify-content-end" id="navbarToggler-1">
          <ul class="navbar-nav mt-2 mt-md-0">
            <li class="nav-item">
              <a class="nav-link" href="#info">{% trans "Info" %}</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#wedding_list">{% trans "Wedding List" %}</a>
            </li>
            {% comment %}
            <li class="nav-item">
              <a class="nav-link" href="#">{% trans "Pictures" %}</a>
            </li>
            {% endcomment %}
          </ul>
          <div class="dropdown show">
            <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
               data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
              {{ LANGUAGE_CODE }}
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              {% for lang_code, lang_name in LANGUAGES %}
                {% if lang_code != LANGUAGE_CODE %}
                  {% language lang_code %}
                    <a class="dropdown-item" href="{% url 'home' %}" title="{{ lang_name }}">{{ lang_code }}</a>
                  {% endlanguage %}
                {% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div class="container-banner">
        <h1 id="wedding_title">{% trans "We're getting married!" %}</h1>
        <p id="wedding_timer"></p>
    </div>
  </section>
  <section id="event" class="section section-civil-wedding">
    <a name="info"></a>
    <div class="container container-civil-wedding">
      <h2 class="section-heading">{% trans "The civil wedding" %}</h2>
      <section class="responsive-grid">
        <article  class="grid-item">
            <dl class="dl-horizontal lead">
              <dt>{% trans "What" %}</dt>
              <dd>
                {% trans "Wedding at the Townhall" %}
              </dd>
              <dt>{% trans "When" %}</dt>
              <dd>{% trans "Thursday, July 5th at 3:00 pm" %}</dd>
              <dt>{% trans "Where" %}</dt>
              <dd>
                <address>
                  {% trans "Strasbourg Townhall" %}<br>
                  <a href="https://goo.gl/maps/WshPW2PNFUH2">Place Broglie, 67000 Strasbourg, France</a><br>
                </address>
              </dd>
              <dt>{% trans "Attire" %}</dt>
              <dd>{% trans "Smart" %}</dd>
              <dt>{% trans "Transportation" %}</dt>
              <dd>{% trans "Transportation is not provided. Tips in the info part." %}</dd>
              <dt>{% trans "Parking" %}</dt>
              <dd>{% trans "Tips in the info part." %}</dd>
              <dt>{% trans "Other info" %}</dt>
              <dd>
                {% blocktrans %}
                  We are getting married on July 5th at 15:00 in the Strasbourg Townhall.
                  Civil wedding is open and celebrated later.
                {% endblocktrans %}
              </dd>
            </dl>
        </article>
        <article class="grid-item grid-item-picture">
            <div class="block-picture">
                <img src="/static/bigday/images/image1.jpg"/>
            </div>
        </article>
      </section>
    </div>
  </section>
  <section id="saturday-event" class="section section-saturday-event">
      <div class="container container-saturday-event">
        <h2 class="section-heading">{% trans "Thursday celebration" %}</h2>
        <section class="responsive-grid">
          <article class="grid-item grid-item-picture">
              <div class="block-picture">
                  <img src="/static/bigday/images/image3.jpg"/>
              </div>
          </article>
          <article class="grid-item">
              <dl class="dl-horizontal lead">
                  <dt>{% trans "What" %}</dt>
                  <dd>{% trans "Celebrate our marriage" %}</dd>
                  <dt>{% trans "When" %}</dt>
                  <dd>{% trans "Thursday, July 5th, from 16:00" %}</dd>
                  <dt>{% trans "Where" %}</dt>
                  <dd>
                    <address>
                      {% trans "Pavillon Josephine, Strasbourg" %}<br>
                      <a href="https://goo.gl/maps/wXSMP2gZSqG2">Avenue de l'Europe, 67000 Strasbourg, France</a><br>
                      {% trans "Phone: +33 3 88 36 52 53" %}
                    </address>
                  </dd>
                  <dt>{% trans "Attire" %}</dt>
                  <dd>{% trans "Same as Civil wedding" %}
                  </dd>
                  <dt>{% trans "Transportation" %}</dt>
                  <dd>{% trans "Transportation is not provided. Tips in the info part." %}
                  </dd>
                  <dt>{% trans "Parking" %}</dt>
                  <dd>{% trans "Parking is available at the parc entrance an along the Avenue de l'Europe" %}</dd>
                </dl>
          </article>
          </section>
      </div>
  </section>
  <section class="section section-wedding-list">
    <a name="wedding_list"></a>
    <div class="container container-saturday-event">
    <h2 class="section-heading">{%  trans "Wedding list" %}</h2>
    <section class="responsive-grid">
        <article  class="grid-item">
          <p>
              {% blocktrans %}
                Théo et Vio sont heureux ensemble et ont tout ce qu'il leur faut. Leur souhait le plus cher est de poursuivre leur chemin heureux en famille.
                Deux options vous sont proposées pour le cadeau : une contribution au voyage de noce de leurs reves ou une contribution à une association caritative qui leur tient a coeur.
              {% endblocktrans %}
            </p>
        </article>
        <article class="grid-item grid-item-picture">
            <div class="block-picture">
                <img src="/static/bigday/images/montagne.jpg"/>
            </div>
        </article>
      </section>
    </div>
  </section>
{% endblock %}
{% block page_js %}
  <script>
      // Set the date we're counting down to
      var countDownDate = new Date("Jul 5, 2018 15:00:00 UTC+0100").getTime();

      // Update the count down every 1 second
      var x = setInterval(function () {

          // Get todays date and time
          var now = new Date().getTime();

          // Find the distance between now an the count down date
          var distance = countDownDate - now;

          // Time calculations for days, hours, minutes and seconds
          var days = Math.floor(distance / (1000 * 60 * 60 * 24));
          var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          var seconds = Math.floor((distance % (1000 * 60)) / 1000);

          // Display the result in the element with id="demo"
          document.getElementById("wedding_timer").innerHTML = '' +
          '<ul class="final-countdown list-inline">' +
          '<li class="item item-days list-inline-item"><span class="span-days">' + days + '</span><span class="span-days-label">D</span></li>' +
          '<li class="item item-hours list-inline-item"><span>' + hours + '</span><span class="span-hours-label">H</span></li>' +
          '<li class="item item-minutes list-inline-item"><span>' + minutes + '</span><span class="span-minutes-label">M</span></li>' +
          '<li class="item item-seconds list-inline-item"><span>' + seconds + '</span><span class="span-seconds-label">S</span></li>';

          // If the count down is finished, write some text
          if (distance < 0) {
              clearInterval(x);
              document.getElementById("wedding_timer").innerHTML = "";
              document.getElementById("wedding_title").innerHTML = "{% trans "We're married!" %}";
          }
      }, 1000);

  </script>
{% endblock %}